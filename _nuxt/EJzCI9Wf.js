import{f as $,g as A,h as L,r as N,i as I,j as R,k as j,c as o,o as i,a as t,F as h,l as p,m as k,b as r,w as y,n as z,e as E,t as u,p as w}from"./4bJEUqP-.js";import{u as M,_ as Q}from"./CwWLoiWO.js";const U=()=>{const g=$();return M("useQiitaArticlesFetcher",async()=>await $fetch("https://qiita.com/api/v2/authenticated_user/items",{method:"GET",headers:{Authorization:`Bearer ${g.qiitaToken}`}}))},V={class:"wrapper"},G={class:"uk-grid","uk-grid":""},J={class:"uk-width-3-4@m"},P={class:"uk-card uk-card-default uk-grid-collapse uk-child-width-1-2@s uk-margin uk-grid","uk-grid":""},q={class:"uk-card-media-left uk-cover-container"},H={class:"uk-card-body"},K={class:"uk-position-bottom-custom uk-margin-small-bottom"},O=["onClick"],W={class:"uk-width-1-4@m"},X={class:"uk-section uk-section-muted uk-margin-small-top"},Y={class:"uk-container"},Z={class:"uk-grid-match","uk-grid":""},tt=["onClick"],ot=A({__name:"index",async setup(g){let c,d;const m=([c,d]=L(()=>U()),c=await c,d(),c).data,b=[...new Set(m.value.flatMap(s=>s.tags.map(e=>e.name)))],x=new URL(""+new URL("coffee-8668442_1280_pixabay.BpSxrJuv.jpg",import.meta.url).href,import.meta.url).href,C=(s,e)=>s.length>e?s.slice(0,e)+"...":s,B=s=>{const e=s.match(/https:\/\/qiita-image.*\.png/);return e?e[0]:x},n=N([]),f=s=>{n.value.includes(s)?n.value=n.value.filter(e=>e!==s):n.value.push(s)},D=I(()=>n.value.length===0?m.value:m.value.filter(s=>n.value.every(e=>s.tags.map(_=>_.name).includes(e)))),T=R();function F(){const s={title:"ブログにようこそ！"};T.add(s)}return j(()=>{F()}),(s,e)=>{const _=z,v=E,S=Q;return i(),o("div",V,[t("section",null,[t("div",G,[t("div",J,[t("ul",null,[(i(!0),o(h,null,p(k(D),a=>(i(),o("li",{key:a.id,class:"uk-list"},[t("div",P,[t("div",q,[r(v,{to:{name:"posts-id",params:{id:a.id}},tag:"div",class:"nuxt-link"},{default:y(()=>[r(_,{src:B(a.body),width:"600",height:"400",alt:"サムネイル","uk-cover":""},null,8,["src"])]),_:2},1032,["to"])]),t("div",null,[t("div",H,[t("div",null,[r(v,{to:{name:"posts-id",params:{id:a.id}},tag:"div",class:"nuxt-link"},{default:y(()=>[t("p",null,u(new Date(a.created_at).toLocaleDateString())+"に公開",1),t("h3",null,u(a.title),1),t("p",null,u(C(a.body,100)),1)]),_:2},1032,["to"])]),t("div",K,[(i(!0),o(h,null,p(a.tags,l=>(i(),o("span",{key:l.name,class:w(["uk-margin-small-right uk-margin-small-bottom uk-badge-custom",{"uk-badge-custom-selected":k(n).includes(l.name)}]),onClick:et=>f(l.name)},u(l.name),11,O))),128))])])])])]))),128))])]),t("div",W,[r(S),t("div",X,[t("div",Y,[e[0]||(e[0]=t("h4",null,"タグ",-1)),t("div",Z,[(i(),o(h,null,p(b,a=>t("span",{key:a,class:w(["uk-margin-small-right uk-margin-small-bottom uk-badge-custom",{"uk-badge-custom-selected":k(n).includes(a)}]),onClick:l=>f(a)},u(a),11,tt)),64))])])])])])])])}}});export{ot as default};
