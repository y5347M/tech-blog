[{"data":1,"prerenderedAt":37},["ShallowReactive",2],{"useQiitaArticleDetailFetcher-200d3c4e23b800e433bb":3,"useQiitaAuthorizedUser":34},{"rendered_body":4,"body":5,"coediting":6,"comments_count":7,"created_at":8,"group":9,"id":10,"likes_count":11,"private":6,"reactions_count":7,"stocks_count":11,"tags":12,"title":19,"updated_at":20,"url":21,"user":22,"page_views_count":33,"team_membership":9,"organization_url_name":9,"slide":6},"\u003Ch1 data-sourcepos=\"1:1-1:8\">\n\u003Cspan id=\"前提\" class=\"fragment\">\u003C/span>\u003Ca href=\"#%E5%89%8D%E6%8F%90\">\u003Ci class=\"fa fa-link\">\u003C/i>\u003C/a>前提\u003C/h1>\n\u003Cp data-sourcepos=\"2:1-3:54\">AWSのCLIコマンドを学習する目的でlocalstackを立ち上げます。\u003Cbr>\nプログラムの動作確認用にも使えます。\u003C/p>\n\u003Ch1 data-sourcepos=\"5:1-5:8\">\n\u003Cspan id=\"環境\" class=\"fragment\">\u003C/span>\u003Ca href=\"#%E7%92%B0%E5%A2%83\">\u003Ci class=\"fa fa-link\">\u003C/i>\u003C/a>環境\u003C/h1>\n\u003Cul data-sourcepos=\"6:1-9:0\">\n\u003Cli data-sourcepos=\"6:1-6:14\">macOS 11.6.4\u003C/li>\n\u003Cli data-sourcepos=\"7:1-7:23\">docker-compose: 2.0.0\u003C/li>\n\u003Cli data-sourcepos=\"8:1-9:0\">localstack: 0.14.3（執筆時点で最新）\u003C/li>\n\u003C/ul>\n\u003Ch1 data-sourcepos=\"10:1-10:8\">\n\u003Cspan id=\"手順\" class=\"fragment\">\u003C/span>\u003Ca href=\"#%E6%89%8B%E9%A0%86\">\u003Ci class=\"fa fa-link\">\u003C/i>\u003C/a>手順\u003C/h1>\n\u003Ch4 data-sourcepos=\"11:1-11:62\">\n\u003Cspan id=\"docker-composexmlを任意のディレクトリに作成\" class=\"fragment\">\u003C/span>\u003Ca href=\"#docker-composexml%E3%82%92%E4%BB%BB%E6%84%8F%E3%81%AE%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AB%E4%BD%9C%E6%88%90\">\u003Ci class=\"fa fa-link\">\u003C/i>\u003C/a>docker-compose.xmlを任意のディレクトリに作成\u003C/h4>\n\u003Cp data-sourcepos=\"12:1-13:71\">以下にdocker-compose.ymlがあるのでこちらを参考に作成。\u003Cbr>\n\u003Ca href=\"https://github.com/localstack/localstack/blob/master/docker-compose.yml\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://github.com/localstack/localstack/blob/master/docker-compose.yml\u003C/a>\u003C/p>\n\u003Cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"15:1-32:3\">\n\u003Cdiv class=\"code-lang\">\u003Cspan class=\"bold\">docker-compose.yml\u003C/span>\u003C/div>\n\u003Cdiv class=\"highlight\">\u003Cpre>\u003Ccode>\u003Cspan class=\"na\">version\u003C/span>\u003Cspan class=\"pi\">:\u003C/span> \u003Cspan class=\"s2\">\"\u003C/span>\u003Cspan class=\"s\">3.8\"\u003C/span>\n\n\u003Cspan class=\"na\">services\u003C/span>\u003Cspan class=\"pi\">:\u003C/span>\n  \u003Cspan class=\"na\">localstack\u003C/span>\u003Cspan class=\"pi\">:\u003C/span>\n    \u003Cspan class=\"na\">container_name\u003C/span>\u003Cspan class=\"pi\">:\u003C/span> \u003Cspan class=\"s2\">\"\u003C/span>\u003Cspan class=\"s\">localstack\"\u003C/span>\n    \u003Cspan class=\"na\">image\u003C/span>\u003Cspan class=\"pi\">:\u003C/span> \u003Cspan class=\"s\">localstack/localstack:0.14.3\u003C/span>\n    \u003Cspan class=\"na\">ports\u003C/span>\u003Cspan class=\"pi\">:\u003C/span>\n      \u003Cspan class=\"pi\">-\u003C/span> \u003Cspan class=\"s\">4566:4566\u003C/span>\n    \u003Cspan class=\"na\">environment\u003C/span>\u003Cspan class=\"pi\">:\u003C/span>\n      \u003Cspan class=\"pi\">-\u003C/span> \u003Cspan class=\"s\">SERVICES=s3, sqs\u003C/span>\n      \u003Cspan class=\"pi\">-\u003C/span> \u003Cspan class=\"s\">DEBUG=1\u003C/span>\n      \u003Cspan class=\"pi\">-\u003C/span> \u003Cspan class=\"s\">DATA_DIR=/tmp/localstack/data\u003C/span>\n      \u003Cspan class=\"pi\">-\u003C/span> \u003Cspan class=\"s\">DOCKER_HOST=unix:///var/run/docker.sock\u003C/span>\n    \u003Cspan class=\"na\">volumes\u003C/span>\u003Cspan class=\"pi\">:\u003C/span>\n      \u003Cspan class=\"pi\">-\u003C/span> \u003Cspan class=\"s2\">\"\u003C/span>\u003Cspan class=\"s\">${TMPDIR:-/tmp}/localstack:/tmp/localstack\"\u003C/span>\n      \u003Cspan class=\"pi\">-\u003C/span> \u003Cspan class=\"s2\">\"\u003C/span>\u003Cspan class=\"s\">/var/run/docker.sock:/var/run/docker.sock\"\u003C/span>\n\u003C/code>\u003C/pre>\u003C/div>\n\u003C/div>\n\u003Cp data-sourcepos=\"34:1-35:55\">environmentに定義できる設定は以下に載っています。\u003Cbr>\n\u003Ca href=\"https://docs.localstack.cloud/localstack/configuration/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://docs.localstack.cloud/localstack/configuration/\u003C/a>\u003C/p>\n\u003Cul data-sourcepos=\"36:1-39:0\">\n\u003Cli data-sourcepos=\"36:1-36:71\">\n\u003Ccode>SERVICES\u003C/code>: カンマ区切りで使用したいサービスを記載\u003C/li>\n\u003Cli data-sourcepos=\"37:1-37:80\">\n\u003Ccode>DEBUG\u003C/code>: ログをより詳細に出力したい場合にフラグを立てる\u003C/li>\n\u003Cli data-sourcepos=\"38:1-39:0\">\n\u003Ccode>DATA_DIR\u003C/code>: 永続データを保存するためのローカルディレクトリ\u003C/li>\n\u003C/ul>\n\u003Ch4 data-sourcepos=\"40:1-40:35\">\n\u003Cspan id=\"コンテナを立ち上げる\" class=\"fragment\">\u003C/span>\u003Ca href=\"#%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E3%82%92%E7%AB%8B%E3%81%A1%E4%B8%8A%E3%81%92%E3%82%8B\">\u003Ci class=\"fa fa-link\">\u003C/i>\u003C/a>コンテナを立ち上げる\u003C/h4>\n\u003Cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"41:1-43:3\">\u003Cdiv class=\"highlight\">\u003Cpre>\u003Ccode>docker-compose up -d\n\u003C/code>\u003C/pre>\u003C/div>\u003C/div>\n\u003Ch4 data-sourcepos=\"45:1-45:38\">\n\u003Cspan id=\"立ち上がっているか確認\" class=\"fragment\">\u003C/span>\u003Ca href=\"#%E7%AB%8B%E3%81%A1%E4%B8%8A%E3%81%8C%E3%81%A3%E3%81%A6%E3%81%84%E3%82%8B%E3%81%8B%E7%A2%BA%E8%AA%8D\">\u003Ci class=\"fa fa-link\">\u003C/i>\u003C/a>立ち上がっているか確認\u003C/h4>\n\u003Cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"46:1-50:3\">\u003Cdiv class=\"highlight\">\u003Cpre>\u003Ccode>XXX % docker ps           \nCONTAINER ID   IMAGE                          COMMAND                  CREATED          STATUS          PORTS                                             NAMES\n205ec2df7163   localstack/localstack:0.14.3   \"docker-entrypoint.sh\"   20 minutes ago   Up 20 minutes   4510-4559/tcp, 5678/tcp, 0.0.0.0:4566-&gt;4566/tcp   localstack\n\u003C/code>\u003C/pre>\u003C/div>\u003C/div>\n\u003Ch4 data-sourcepos=\"52:1-52:65\">\n\u003Cspan id=\"awsの設定ファイルと認証情報ファイルを設定\" class=\"fragment\">\u003C/span>\u003Ca href=\"#aws%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%A8%E8%AA%8D%E8%A8%BC%E6%83%85%E5%A0%B1%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E8%A8%AD%E5%AE%9A\">\u003Ci class=\"fa fa-link\">\u003C/i>\u003C/a>AWSの設定ファイルと認証情報ファイルを設定\u003C/h4>\n\u003Cp data-sourcepos=\"53:1-55:164\">AWS CLIコマンドを使用するときに必要になります。\u003Cbr>\n設定ファイル(config)と認証情報(credentials)を直接編集で以下の通り記載してください。\u003Cbr>\nコマンドでも設定できます。\u003Ca href=\"https://docs.aws.amazon.com/ja_jp/cli/latest/userguide/cli-configure-files.html\" rel=\"nofollow noopener\" target=\"_blank\">こちら\u003C/a>を参考にしてください。\u003C/p>\n\u003Cp data-sourcepos=\"57:1-57:79\">\u003Ciframe id=\"qiita-embed-content__5de4b87db4e954f6c467e826f9c1d57f\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__5de4b87db4e954f6c467e826f9c1d57f\" data-content=\"https%3A%2F%2Fdocs.aws.amazon.com%2Fja_jp%2Fcli%2Flatest%2Fuserguide%2Fcli-configure-files.html\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\">\n\u003C/iframe>\n\u003C/p>\n\u003Cp data-sourcepos=\"59:1-59:15\">\u003Ccode>~/.aws/config\u003C/code>\u003C/p>\n\u003Cdiv class=\"code-frame\" data-lang=\"config\" data-sourcepos=\"60:1-64:3\">\n\u003Cdiv class=\"code-lang\">\u003Cspan class=\"bold\">config\u003C/span>\u003C/div>\n\u003Cdiv class=\"highlight\">\u003Cpre>\u003Ccode>[\u003Cspan class=\"n\">profile\u003C/span> \u003Cspan class=\"n\">localstack\u003C/span>]\n\u003Cspan class=\"n\">region\u003C/span> = \u003Cspan class=\"n\">ap\u003C/span>-\u003Cspan class=\"n\">northeast\u003C/span>-\u003Cspan class=\"m\">1\u003C/span>\n\u003Cspan class=\"n\">output\u003C/span> = \u003Cspan class=\"n\">json\u003C/span>\n\u003C/code>\u003C/pre>\u003C/div>\n\u003C/div>\n\u003Cp data-sourcepos=\"66:1-66:20\">\u003Ccode>~/.aws/credentials\u003C/code>\u003C/p>\n\u003Cdiv class=\"code-frame\" data-lang=\"config\" data-sourcepos=\"67:1-71:3\">\n\u003Cdiv class=\"code-lang\">\u003Cspan class=\"bold\">credentials\u003C/span>\u003C/div>\n\u003Cdiv class=\"highlight\">\u003Cpre>\u003Ccode>[\u003Cspan class=\"n\">localstack\u003C/span>]\n\u003Cspan class=\"n\">aws_access_key_id\u003C/span> = \u003Cspan class=\"n\">dummy\u003C/span>\n\u003Cspan class=\"n\">aws_secret_access_key\u003C/span> = \u003Cspan class=\"n\">dummy\u003C/span>\n\u003C/code>\u003C/pre>\u003C/div>\n\u003C/div>\n","# 前提\nAWSのCLIコマンドを学習する目的でlocalstackを立ち上げます。\nプログラムの動作確認用にも使えます。\n\n# 環境\n- macOS 11.6.4\n- docker-compose: 2.0.0\n- localstack: 0.14.3（執筆時点で最新）\n\n# 手順\n#### docker-compose.xmlを任意のディレクトリに作成\n以下にdocker-compose.ymlがあるのでこちらを参考に作成。\nhttps://github.com/localstack/localstack/blob/master/docker-compose.yml\n\n```docker-compose.yml\nversion: \"3.8\"\n\nservices:\n  localstack:\n    container_name: \"localstack\"\n    image: localstack/localstack:0.14.3\n    ports:\n      - 4566:4566\n    environment:\n      - SERVICES=s3, sqs\n      - DEBUG=1\n      - DATA_DIR=/tmp/localstack/data\n      - DOCKER_HOST=unix:///var/run/docker.sock\n    volumes:\n      - \"${TMPDIR:-/tmp}/localstack:/tmp/localstack\"\n      - \"/var/run/docker.sock:/var/run/docker.sock\"\n```\n\nenvironmentに定義できる設定は以下に載っています。\nhttps://docs.localstack.cloud/localstack/configuration/\n- `SERVICES`: カンマ区切りで使用したいサービスを記載\n- `DEBUG`: ログをより詳細に出力したい場合にフラグを立てる\n- `DATA_DIR`: 永続データを保存するためのローカルディレクトリ\n\n#### コンテナを立ち上げる\n```\ndocker-compose up -d\n```\n\n#### 立ち上がっているか確認\n```\nXXX % docker ps           \nCONTAINER ID   IMAGE                          COMMAND                  CREATED          STATUS          PORTS                                             NAMES\n205ec2df7163   localstack/localstack:0.14.3   \"docker-entrypoint.sh\"   20 minutes ago   Up 20 minutes   4510-4559/tcp, 5678/tcp, 0.0.0.0:4566->4566/tcp   localstack\n```\n\n#### AWSの設定ファイルと認証情報ファイルを設定\nAWS CLIコマンドを使用するときに必要になります。\n設定ファイル(config)と認証情報(credentials)を直接編集で以下の通り記載してください。\nコマンドでも設定できます。[こちら](https://docs.aws.amazon.com/ja_jp/cli/latest/userguide/cli-configure-files.html)を参考にしてください。\n\nhttps://docs.aws.amazon.com/ja_jp/cli/latest/userguide/cli-configure-files.html\n\n`~/.aws/config`\n```config:config\n[profile localstack]\nregion = ap-northeast-1\noutput = json\n```\n\n`~/.aws/credentials`\n```config:credentials\n[localstack]\naws_access_key_id = dummy\naws_secret_access_key = dummy\n```\n\n",false,0,"2022-06-05T15:11:04+09:00",null,"200d3c4e23b800e433bb",2,[13,16],{"name":14,"versions":15},"AWS",[],{"name":17,"versions":18},"LocalStack",[],"localstackをローカル環境に立ち上げてみる","2022-06-14T14:38:47+09:00","https://qiita.com/y5347M/items/200d3c4e23b800e433bb",{"description":23,"facebook_id":24,"followees_count":25,"followers_count":26,"github_login_name":27,"id":27,"items_count":28,"linkedin_id":24,"location":24,"name":27,"organization":24,"permanent_id":29,"profile_image_url":30,"team_only":6,"twitter_screen_name":31,"website_url":32},"バックエンドエンジニアをしています。","",5,1,"y5347M",18,2433961,"https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2433961/a4773675e7566e225738c8c15f9fda53e35bd799/large.png?1741427719","mmmm16089306","https://twitter.com/mmmm16089306",3673,{"description":23,"facebook_id":24,"followees_count":25,"followers_count":26,"github_login_name":27,"id":27,"items_count":28,"linkedin_id":24,"location":24,"name":27,"organization":24,"permanent_id":29,"profile_image_url":30,"team_only":6,"twitter_screen_name":31,"website_url":32,"image_monthly_upload_limit":35,"image_monthly_upload_remaining":36},104857600,101432560,1745893163203]